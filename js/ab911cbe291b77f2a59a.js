"use strict";(self.webpackChunkwebpack_vuejs=self.webpackChunkwebpack_vuejs||[]).push([[325],{7955:(e,t,o)=>{o.d(t,{D:()=>s,v:()=>n});var n=function(e,t){var o=e+"?per_page=".concat(t.itemsPerPage,"&current_page=").concat(t.page);return t.sortBy.length>0&&(o+="&sort_by="+t.sortBy[0],t.sortDesc[0]>0&&(o+="&sort_desc="+t.sortDesc)),o},s=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o="",n=Object.keys(e);return n.forEach((function(t){e[t]&&(o+="&"+t+"="+e[t])})),t?o:o.substring(1)}},8443:(e,t,o)=>{o.d(t,{Z:()=>s});const n={props:{label:{type:String,default:"Search"},filters:{type:Object,default:function(){return{search:null}}}},data:function(){return{model:this.filters,modelDefault:{}}},created:function(){this.modelDefault=JSON.parse(JSON.stringify(this.model))},methods:{onSearch:function(){this.$emit("search",this.model)},onClear:function(){this.model=JSON.parse(JSON.stringify(this.modelDefault)),this.$emit("clear",this.model)}}},s=(0,o(1900).Z)(n,(function(){var e=this,t=e._self._c;return t("v-menu",{attrs:{bottom:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(o){var n=o.on;return[t("v-text-field",{staticClass:"pb-1",attrs:{placeholder:e.label,"hide-details":"",solo:""},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t("v-btn",{attrs:{icon:""},on:{click:e.onSearch}},[t("v-icon",[e._v("mdi-magnify")])],1)]},proxy:!0},{key:"append",fn:function(){return[t("v-btn",e._g({attrs:{icon:""}},n),[t("v-icon",[e._v("mdi-filter-variant")])],1)]},proxy:!0}],null,!0),model:{value:e.model.search,callback:function(t){e.$set(e.model,"search",t)},expression:"model.search"}})]}}])},[e._v(" "),t("v-card",[t("v-card-text",[e._t("default",null,{model:e.model}),e._v(" "),t("v-card-actions",{staticClass:"justify-end"},[t("v-btn",{on:{click:e.onClear}},[e._v("Clear")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.onSearch}},[e._v("Search")])],1)],2)],1)],1)}),[],!1,null,null,null).exports},1325:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var n=o(9050),s=o(7955);function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){c(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const l={components:{VFilter:o(8443).Z},data:function(){return{api:{index:"system/roles",destroy:"system/roles/",update:"/system/roles/",role:""},options:{page:1,itemsPerPage:10,sortBy:[],sortDesc:[]},filters:{search:null,name:null,description:null},resources:{data:[],total:0},selected:[],headers:[{text:"ID",align:"center",sortable:!1,value:"id"},{text:"Name",value:"name"},{text:"description",value:"description"}]}},computed:i(i({},(0,n.Se)(["configs"])),{},{apiResources:function(){return(0,s.v)(this.api.index,this.options)+(0,s.D)(this.filters)}}),methods:i(i({},(0,n.nv)(["setSnackbar"])),{},{getResources:function(){var e=this;axios.get(this.apiResources).then((function(t){e.resources=t.data}))},onClear:function(e){this.filters=e},onUpdate:function(){1!==this.selected.length?this.$store.commit("notify",{text:"You should only choose one line."}):this.$router.push(this.api.update+this.selected[0].id+"/edit")},onAuthorize:function(){1!==this.selected.length?this.$store.commit("notify",{text:"You should only choose one line."}):this.$router.push(this.api.role+this.selected[0])},onDestroy:function(){var e=this;if(this.selected.length>0){var t=[];this.selected.forEach((function(e){t.push(e.id)})),axios.delete(this.api.destroy+t.join(",")).then((function(){e.selected=[],e.getResources()})).catch((function(t){e.$store.commit("notify",{text:t.data.errors.ids})}))}else this.$store.commit("notify",{text:"Please select a line."})},onAssignPermission:function(){1!==this.selected.length?this.$store.commit("notify",{text:"You should only choose one line."}):this.$router.push(this.api.update+this.selected[0].id+"/permissions")}})},a=(0,o(1900).Z)(l,(function(){var e=this,t=e._self._c;return t("v-card",[t("v-card-title",[t("v-filter",{attrs:{filters:e.filters},on:{search:e.getResources,clear:e.onClear},scopedSlots:e._u([{key:"default",fn:function(o){var n=o.model;return[e._t("default",(function(){return[t("v-text-field",{attrs:{label:"Name"},model:{value:n.name,callback:function(t){e.$set(n,"name",t)},expression:"model.name"}}),e._v(" "),t("v-text-field",{attrs:{label:"Description"},model:{value:n.description,callback:function(t){e.$set(n,"description",t)},expression:"model.description"}})]}))]}}],null,!0)}),e._v(" "),t("v-spacer"),e._v(" "),t("router-link",{attrs:{to:"/system/roles/create",custom:""},scopedSlots:e._u([{key:"default",fn:function(o){var n=o.navigate;return[t("v-btn",{attrs:{icon:""},on:{click:n}},[t("v-icon",[e._v("mdi-plus-thick")])],1)]}}])}),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:e.onUpdate}},[t("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:e.onDestroy}},[t("v-icon",[e._v("mdi-trash-can")])],1),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:e.onAssignPermission}},[t("v-icon",[e._v("mdi-account-multiple")])],1)],1),e._v(" "),t("v-data-table",{attrs:{headers:e.headers,page:e.options.page,options:e.options,items:e.resources.data,"server-items-length":e.resources.total,"footer-props":e.configs.footerProps,dense:"","show-select":""},on:{"update:options":[function(t){e.options=t},e.getResources]},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),[],!1,null,"922e4b1e",null).exports}}]);