"use strict";(self.webpackChunkwebpack_vuejs=self.webpackChunkwebpack_vuejs||[]).push([[985],{7955:(e,t,s)=>{s.d(t,{D:()=>o,v:()=>n});var n=function(e,t){var s=e+"?per_page=".concat(t.itemsPerPage,"&current_page=").concat(t.page);return t.sortBy.length>0&&(s+="&sort_by="+t.sortBy[0],t.sortDesc[0]>0&&(s+="&sort_desc="+t.sortDesc)),s},o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s="",n=Object.keys(e);return n.forEach((function(t){e[t]&&(s+="&"+t+"="+e[t])})),t?s:s.substring(1)}},8443:(e,t,s)=>{s.d(t,{Z:()=>o});const n={props:{label:{type:String,default:"Search"},filters:{type:Object,default:function(){return{search:null}}}},data:function(){return{model:this.filters,modelDefault:{}}},created:function(){this.modelDefault=JSON.parse(JSON.stringify(this.model))},methods:{onSearch:function(){this.$emit("search",this.model)},onClear:function(){this.model=JSON.parse(JSON.stringify(this.modelDefault)),this.$emit("clear",this.model)}}},o=(0,s(1900).Z)(n,(function(){var e=this,t=e._self._c;return t("v-menu",{attrs:{bottom:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on;return[t("v-text-field",{staticClass:"pb-1",attrs:{placeholder:e.label,"hide-details":"",solo:""},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t("v-btn",{attrs:{icon:""},on:{click:e.onSearch}},[t("v-icon",[e._v("mdi-magnify")])],1)]},proxy:!0},{key:"append",fn:function(){return[t("v-btn",e._g({attrs:{icon:""}},n),[t("v-icon",[e._v("mdi-filter-variant")])],1)]},proxy:!0}],null,!0),model:{value:e.model.search,callback:function(t){e.$set(e.model,"search",t)},expression:"model.search"}})]}}])},[e._v(" "),t("v-card",[t("v-card-text",[e._t("default",null,{model:e.model}),e._v(" "),t("v-card-actions",{staticClass:"justify-end"},[t("v-btn",{on:{click:e.onClear}},[e._v("Clear")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.onSearch}},[e._v("Search")])],1)],2)],1)],1)}),[],!1,null,null,null).exports},9985:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var n=s(9050),o=s(7955);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const a={components:{VFilter:s(8443).Z},data:function(){return{api:{index:"system/users",destroy:"system/users/",update:"/system/users/",role:""},options:{page:1,itemsPerPage:10,sortBy:[],sortDesc:[]},filters:{search:null,username:null,email:null},resources:{data:[],total:0},selected:[],headers:[{text:"ID",align:"center",sortable:!1,value:"id"},{text:"Username",value:"username"},{text:"Email",value:"email"},{text:"Created At",value:"created_at"}]}},computed:i(i({},(0,n.Se)(["configs"])),{},{apiResources:function(){return(0,o.v)(this.api.index,this.options)+(0,o.D)(this.filters)}}),methods:i(i({},(0,n.nv)(["setSnackbar"])),{},{getResources:function(){var e=this;axios.get(this.apiResources).then((function(t){e.resources=t.data}))},onClear:function(e){this.filters=e},onUpdate:function(){1!==this.selected.length?this.$store.commit("notify",{text:"You should only choose one line."}):this.$router.push(this.api.update+this.selected[0].id+"/edit")},onAssignRole:function(){1!==this.selected.length?this.$store.commit("notify",{text:"You should only choose one line."}):this.$router.push(this.api.update+this.selected[0].id+"/roles")},onAuthorize:function(){1!==this.selected.length?this.$store.commit("notify",{text:"You should only choose one line."}):this.$router.push(this.api.role+this.selected[0])},onDestroy:function(){var e=this;if(this.selected.length>0){var t=[];this.selected.forEach((function(e){t.push(e.id)})),axios.delete(this.api.destroy+t.join(",")).then((function(){e.selected=[],e.getResources()})).catch((function(t){e.$store.commit("notify",{text:t.data.errors.ids})}))}else this.$store.commit("notify",{text:"Please select a line."})}})},l=(0,s(1900).Z)(a,(function(){var e=this,t=e._self._c;return t("v-card",[t("v-card-title",[t("v-filter",{attrs:{filters:e.filters},on:{search:e.getResources,clear:e.onClear},scopedSlots:e._u([{key:"default",fn:function(s){var n=s.model;return[e._t("default",(function(){return[t("v-text-field",{attrs:{label:"Username"},model:{value:n.username,callback:function(t){e.$set(n,"username",t)},expression:"model.username"}}),e._v(" "),t("v-text-field",{attrs:{label:"Email"},model:{value:n.email,callback:function(t){e.$set(n,"email",t)},expression:"model.email"}})]}))]}}],null,!0)}),e._v(" "),t("v-spacer"),e._v(" "),t("router-link",{attrs:{to:"/system/users/create",custom:""},scopedSlots:e._u([{key:"default",fn:function(s){var n=s.navigate;return[t("v-btn",{attrs:{icon:""},on:{click:n}},[t("v-icon",[e._v("mdi-plus-thick")])],1)]}}])}),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:e.onUpdate}},[t("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:e.onDestroy}},[t("v-icon",[e._v("mdi-trash-can")])],1),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:e.onAssignRole}},[t("v-icon",[e._v("mdi-account-multiple")])],1)],1),e._v(" "),t("v-data-table",{attrs:{headers:e.headers,page:e.options.page,options:e.options,items:e.resources.data,"server-items-length":e.resources.total,"footer-props":e.configs.footerProps,dense:"","show-select":""},on:{"update:options":[function(t){e.options=t},e.getResources]},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),[],!1,null,"02049616",null).exports}}]);